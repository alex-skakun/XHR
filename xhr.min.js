!function(a,b,c){"use strict";function d(a){var b=f.findForTarget(a);return b||(b=new c(a),f.add(b)),b}function e(a){if(Array.isArray(a)){var b={};a.forEach(function(a){var c=a.trim().toLowerCase(),d="on"+c;Object.defineProperty(this,d,{enumerable:!0,configurable:!1,get:function(){return b[c]||null},set:function(a){var d=b[c];d&&this.removeEventListener(c,d),"function"==typeof a&&(b[c]=a,this.addEventListener(c,a))}})},this)}}var f=new b;e.prototype.addEventListener=function(a,b){if("function"==typeof b){var c=d(this);return c.addListener(a,b)}return!1},e.prototype.removeEventListener=function(a,b){var c=d(this);return c.removeListener(a,b)},e.prototype.dispatchEvent=function(a){var b=d(this),c=b.getListenersByType(a),e=Array.prototype.slice.call(arguments,1),f=this;c&&c.forEach(function(a){"function"==typeof a&&a.apply(f,e)})},e.prototype.removeAllListeners=function(a){var b=d(this);return a?b.removeListeners(a):f.remove(b)};for(var g=e.prototype,h=Object.keys(e.prototype),i=0,j=h.length;j>i;i++)Object.defineProperty(g,h[i],{enumerable:!1,configurable:!1,writable:!1});a.EventTargetExtendable=e}(this,function(){"use strict";function a(){var a;try{a=Map}catch(b){a=Array}this.collection=new a}return a.prototype.findForTarget=function(a){if(!Array.isArray(this.collection))return this.collection.get(a);for(var b=this.collection,c=0,d=b.length;d>c;c++){var e=b[c];if(e.target===a)return e}return null},a.prototype.add=function(a){Array.isArray(this.collection)?this.collection.push(a):this.collection.set(a.target,a)},a.prototype.remove=function(a){if(Array.isArray(this.collection)){var b=this.collection.indexOf(a);if(b>-1){var c=this.collection.splice(b,1);return 1===c.length}return!1}return this.collection["delete"](a.target)},a}(),function(){"use strict";function a(a){this.target=a,this.listeners={}}return a.createListenersCollection=function(){var a;try{a=Set}catch(b){a=Array}return new a},a.prototype.getListenersByType=function(b){var c=this.listeners[b];return c||(c=a.createListenersCollection(),this.listeners[b]=c),c},a.prototype.addListener=function(a,b){var c=this.getListenersByType(a);return Array.isArray(c)?~c.indexOf(b)?!1:(c.push(b),!0):c.has(b)?!1:(c.add(b),!0)},a.prototype.removeListener=function(a,b){var c=this.getListenersByType(a);if(Array.isArray(c)){var d=c.indexOf(b);if(d>-1){var e=c.splice(d,1);return 1===e.length}return!1}return c["delete"](b)},a.prototype.removeListeners=function(a){var b=this.getListenersByType(a);return Array.isArray(b)?b.splice(0,b.length):b.clear(),!0},a}()),function(a,b,c){"use strict";function d(a){var b=f.findForTarget(a);return b||(b=new c(a),f.add(b)),b}function e(a){if(Array.isArray(a)){var b={};a.forEach(function(a){var c=a.trim().toLowerCase(),d="on"+c;Object.defineProperty(this,d,{enumerable:!0,configurable:!1,get:function(){return b[c]||null},set:function(a){var d=b[c];d&&this.removeEventListener(c,d),"function"==typeof a&&(b[c]=a,this.addEventListener(c,a))}})},this)}}var f=new b;e.prototype.addEventListener=function(a,b){if("function"==typeof b){var c=d(this);return c.addListener(a,b)}return!1},e.prototype.removeEventListener=function(a,b){var c=d(this);return c.removeListener(a,b)},e.prototype.dispatchEvent=function(a){var b=d(this),c=b.getListenersByType(a),e=Array.prototype.slice.call(arguments,1),f=this;c&&c.forEach(function(a){"function"==typeof a&&a.apply(f,e)})},e.prototype.removeAllListeners=function(a){var b=d(this);return a?b.removeListeners(a):f.remove(b)};for(var g=e.prototype,h=Object.keys(e.prototype),i=0,j=h.length;j>i;i++)Object.defineProperty(g,h[i],{enumerable:!1,configurable:!1,writable:!1});a.EventTargetExtendable=e}(this,function(){"use strict";function a(){var a;try{a=Map}catch(b){a=Array}this.collection=new a}return a.prototype.findForTarget=function(a){if(!Array.isArray(this.collection))return this.collection.get(a);for(var b=this.collection,c=0,d=b.length;d>c;c++){var e=b[c];if(e.target===a)return e}return null},a.prototype.add=function(a){Array.isArray(this.collection)?this.collection.push(a):this.collection.set(a.target,a)},a.prototype.remove=function(a){if(Array.isArray(this.collection)){var b=this.collection.indexOf(a);if(b>-1){var c=this.collection.splice(b,1);return 1===c.length}return!1}return this.collection["delete"](a.target)},a}(),function(){"use strict";function a(a){this.target=a,this.listeners={}}return a.createListenersCollection=function(){var a;try{a=Set}catch(b){a=Array}return new a},a.prototype.getListenersByType=function(b){var c=this.listeners[b];return c||(c=a.createListenersCollection(),this.listeners[b]=c),c},a.prototype.addListener=function(a,b){var c=this.getListenersByType(a);return Array.isArray(c)?~c.indexOf(b)?!1:(c.push(b),!0):c.has(b)?!1:(c.add(b),!0)},a.prototype.removeListener=function(a,b){var c=this.getListenersByType(a);if(Array.isArray(c)){var d=c.indexOf(b);if(d>-1){var e=c.splice(d,1);return 1===e.length}return!1}return c["delete"](b)},a.prototype.removeListeners=function(a){var b=this.getListenersByType(a);return Array.isArray(b)?b.splice(0,b.length):b.clear(),!0},a}()),function(a){"use strict";function b(a,b){var d,e,f,g,h,i,j={},k=Object.keys(c.defaults.headers);for(h=0,i=k.length;i>h;h++)f=k[h],j[f.toLowerCase()]=c.defaults.headers[f];if("object"==typeof b)for(d=Object.keys(b),h=0,i=d.length;i>h;h++)f=d[h],j[f.toLowerCase()]=b[f];for(e=Object.keys(j),h=0,i=e.length;i>h;h++)f=e[h],g=j[f],"undefined"!=typeof g&&null!==g&&a.setRequestHeader(f,String(g))}function c(d,e){if(d){var f=new XMLHttpRequest,g=e?e.addToQueue(f):new c.XHRPromise(f),h="",i=!0,j=null;if(d.method="string"==typeof d.method?d.method:c.defaults.method,"object"==typeof d.attributes&&d.attributes){var k=Object.keys(d.attributes);k.forEach(function(a){f[a]=d.attributes[a]})}if("object"==typeof d.params&&d.params){var l=[],m=Object.keys(d.params);m.forEach(function(a){var b=d.params[a];Array.isArray(b)?b.forEach(function(b){l.push(a+"="+b)}):"object"==typeof b&&b?l.push(a+"="+JSON.stringify(b)):"undefined"!=typeof b&&l.push(a+"="+b)}),l.length&&(h="?"+l.join("&"))}if(void 0!==d.async&&(i=!!d.async),void 0!==d.data){var n=d.data;j=n instanceof(a.ArrayBufferView||a.ArrayBuffer)||n instanceof a.Blob||n instanceof a.Document||n instanceof a.FormData?n:"object"==typeof n&&n?JSON.stringify(n):String(n)}return f.addEventListener("error",function(a){g.applyCallback("error",a,f)}),f.addEventListener("progress",function(a){g.applyCallback("progress",a,f)}),f.addEventListener("loadstart",function(a){g.applyCallback("loadstart",a,f)}),f.addEventListener("loadend",function(a){g.applyCallback("loadend",a,f)}),f.addEventListener("abort",function(a){g.applyCallback("abort",a,f)}),f.addEventListener("load",function(a){g.applyCallback("load",a,f);var b=f.response;if(""===f.responseType||"text"===f.responseType)try{b=JSON.parse(f.responseText)}catch(a){b=f.responseText}if(f.status>=200&&f.status<400){var d=function(a){if(g.queue.length){var b=g.getNext();if("function"==typeof b&&!g.xhrCollection.aborted&&g.checkInterceptor("response",f)){var e=b(a);e?e.hasOwnProperty("url")?c(e,g):e.success(function(a){d(a)}).error(function(a){d(a)}):g.applyCallback("success",a,f)}}else g.applyCallback("success",a,f)};d(b)}else f.status>=400&&f.status<600&&g.applyCallback("error",b,f)},!1),f.onreadystatechange=function(){f.readyState===XMLHttpRequest.OPENED&&(f.onreadystatechange=null,b(f,d.headers),setTimeout(function(){f.readyState!==XMLHttpRequest.OPENED&&g.xhrCollection.aborted?g.applyCallback("abort"):f.send(j)},0))},f.open(d.method,d.url+h,i),g.actions}throw new Error("Config object is required.")}Object.defineProperty(c,"defaults",{value:{method:"GET",headers:{},attributes:{responseType:"",timeout:0}},configurable:!1,writable:!1}),Object.defineProperty(c,"interceptors",{value:{response:null,responseError:null},configurable:!0,writable:!0}),a.XHR=c,"function"==typeof define&&null!==define.amd&&define("XHR",[],function(){return c})}(window),function(a){"use strict";function b(b){var c=this;this.inProgress=!0,this.xhrCollection=new a.XHRCollection(this),this.xhrCollection.push(b),this.silent=!1,this.interceptors={},this.queue=[],this.actions={isInProgress:function(){return c.inProgress},interceptors:function(a){return c.interceptors=a,c.actions},silent:function(){return c.silent=!0,c.actions},error:function(a){return c.addEventListener("error",a),c.actions},loadStart:function(a){return c.addEventListener("loadstart",a),c.actions},progress:function(a){return c.addEventListener("progress",a),c.actions},loadEnd:function(a){return c.addEventListener("loadend",a),c.actions},abort:function(a){return c.addEventListener("abort",a),c.actions},load:function(a){return c.addEventListener("load",a),c.actions},success:function(a){return c.addEventListener("success",a),c.actions},then:function(a){return c.queue.push(a),c.actions},getXHR:function(){return c.xhrCollection}}}var c={success:"response",error:"responseError"};b.prototype=Object.create(EventTargetExtendable.prototype,{constructor:{value:b}}),b.prototype.applyCallback=function(a,b,d){this.checkInterceptor(c[a],d)&&(this.dispatchEvent(a,this.applyOwnInterceptor(c[a],b),d),("success"===a||"error"===a||"abort"===a)&&(this.inProgress=!1,this.removeAllListeners()))},b.prototype.checkInterceptor=function(b,c){return b&&"function"==typeof a.interceptors[b]?a.interceptors[b](c)||this.silent:!0},b.prototype.applyOwnInterceptor=function(a,b){var c=this.interceptors[a];return"function"==typeof c?c(b):b},b.prototype.getNext=function(){return this.queue.shift()},b.prototype.addToQueue=function(a){return this.xhrCollection.push(a),this},a.XHRPromise=b}(window.XHR),function(a){"use strict";function b(a){Array.call(this),this.result=a,this.aborted=!1}b.prototype=Object.create(Array.prototype,{constructor:{value:b},abort:{value:function(){this.forEach(function(a){a instanceof XMLHttpRequest?a.abort():(clearTimeout(a),this.result.applyCallback("abort"))},this),this.aborted=!0}}}),a.XHRCollection=b}(XHR);