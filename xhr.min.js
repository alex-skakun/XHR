!function(a){"use strict";function b(a,b){var d,e,f,g,h,i,j={},k=Object.keys(c.defaultHeaders);for(h=0,i=k.length;i>h;h++)f=k[h].toLowerCase(),j[f]=c.defaultHeaders[f];if("object"==typeof b)for(d=Object.keys(b),h=0,i=d.length;i>h;h++)f=d[h].toLowerCase(),j[f]=b[f];for(e=Object.keys(j),h=0,i=e.length;i>h;h++)f=e[h],g=j[f],isNaN(g)||"undefined"==typeof g||null===g||a.setRequestHeader(f,String(g))}function c(d){if(d&&"string"==typeof d.method&&"string"==typeof d.url){var e=new XMLHttpRequest,f=new c.XHRPromise(e),g="",h=!0,i=null;if("object"==typeof d.attributes){var j=Object.keys(d.attributes);j.forEach(function(a){e[a]=d.attributes[a]})}if("object"==typeof d.params){var k=[];for(var l in d.params)if(d.params.hasOwnProperty(l)){var m=d.params[l];if(Array.isArray(m))for(var n=0,o=m.length;o>n;n++)k.push(l+"="+m[n]);else{if("object"==typeof m)throw new Error("Value of query parameter can not be object");k.push(l+"="+m)}}k.length&&(g="?"+k.join("&"))}if(void 0!==d.async&&(h=d.async),e.open(d.method,d.url+g,h),b(e,d.headers),void 0!==d.data){var p=d.data;i=p instanceof(a.ArrayBufferView||a.ArrayBuffer)||p instanceof a.Blob||p instanceof a.Document||p instanceof a.FormData?p:"object"==typeof p?JSON.stringify(p):String(p)}return e.addEventListener("load",function(){var a={xhr:e,response:null},b=!1;try{a.response=JSON.parse(e.responseText)}catch(c){b=!0}finally{if(b){var d=!1;try{a.response=e.responseText}catch(c){d=!0}finally{d&&(a.response=e.response)}}}if(f.callbacks.load(e),e.status>=200&&e.status<400)f.callbacks.success(a);else if(e.status>=400&&e.status<600){var g=a.response&&a.response.Message?a.response.Message:a.response,h=new Error;h.message="XHR Error. Status code "+a.xhr.status+": "+g,a.error=h,f.callbacks.error(a)}},!1),e.addEventListener("error",function(){f.callbacks.error()}),e.addEventListener("progress",function(a){f.callbacks.progress(e,a)}),e.addEventListener("loadstart",function(a){f.callbacks.loadStart(e,a)}),e.addEventListener("loadend",function(a){f.callbacks.loadEnd(e,a)}),e.addEventListener("abort",function(a){f.callbacks.abort(e,a)}),setTimeout(function(){e.send(i)},0),f.actions}throw new Error("Wrong config object.")}Object.defineProperty(c,"defaultHeaders",{value:{},configurable:!1}),a.XHR=c}(window),function(a){"use strict";function b(a){var b=this;this.callbacks={error:null,loadStart:null,progress:null,loadEnd:null,abort:null,load:null,success:null},this.actions={error:function(a){return b.callbacks.error=a,b.actions},loadStart:function(a){return b.callbacks.loadStart=a,b.actions},progress:function(a){return b.callbacks.progress=a,b.actions},loadEnd:function(a){return b.callbacks.loadEnd=a,b.actions},abort:function(a){return b.callbacks.abort=a,b.actions},load:function(a){return b.callbacks.load=a,b.actions},success:function(a){return b.callbacks.success=a,b.actions},getXHR:function(){return a}}}b.prototype.applyCallback=function(a,b){var c=this.callbacks[a];"function"==typeof c&&c(b)},a.XHRPromise=b}(window.XHR);